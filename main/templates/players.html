{% extends "layout.html" %} {% block title %}Zawodnicy{% endblock %} {% block body_content %}
<div class="players">
    <div class="players-search">
        <form class="players-search__form" action="{% url 'main:players' %}" method="post">
            {% csrf_token %}
            <input
                class="players-search__form_input"
                type="search"
                placeholder="Wyszukaj zawodnika"
                aria-label="Search"
                name="searched"
            />
            <button class="players-search__form_button" type="submit">Wyszukaj</button>
        </form>
    </div>
    <a href="{% url 'main:pdf' 1 %}">
        <button class="players-download">Pobierz plik pdf z listą zawodników</button>
    </a>
    {{captcha}}
    <div class="players-container">
        {% if searched %} {% for player in players %}
        <a href="{% url 'main:player' player.id %}">
            <div class="players-container__item">
                <div class="players-container__item_name">{{player.first_name}} {{player.last_name}}</div>
                <div class="players-container__item_team">{{player.team.name}}</div>
                <div class="players-container__item_position">{{player.position}}</div>

                <form
                    class="players-container__item_form"
                    action="{% url 'main:increment_favourite' player.id %}"
                    method="post"
                >
                    {% csrf_token %}
                    <div class="players-container__item_form_fav">{{player.favourite}}</div>
                    <button class="players-container__item_form_button">
                        <svg
                            id="Layer_1"
                            data-name="Layer 1"
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 122.88 107.39"
                            width="12px"
                            height="12px"
                        >
                            <defs>
                                <style>
                                    .cls-1 {
                                        fill: #ed1b24;
                                        fill-rule: evenodd;
                                    }
                                </style>
                            </defs>
                            <title>red-heart</title>
                            <path
                                class="cls-1"
                                d="M60.83,17.18c8-8.35,13.62-15.57,26-17C110-2.46,131.27,21.26,119.57,44.61c-3.33,6.65-10.11,14.56-17.61,22.32-8.23,8.52-17.34,16.87-23.72,23.2l-17.4,17.26L46.46,93.55C29.16,76.89,1,55.92,0,29.94-.63,11.74,13.73.08,30.25.29c14.76.2,21,7.54,30.58,16.89Z"
                            />
                        </svg>
                    </button>
                </form>
            </div>
        </a>
        {% endfor %} {% else %} {% for player in players %}
        <a href="{% url 'main:player' player.id %}">
            <div class="players-container__item">
                <div class="players-container__item_name">{{player.first_name}} {{player.last_name}}</div>
                <div class="players-container__item_team">{{player.team.name}}</div>
                <div class="players-container__item_position">{{player.position}}</div>

                <form
                    class="players-container__item_form"
                    action="{% url 'main:increment_favourite' player.id %}"
                    method="post"
                >
                    {% csrf_token %}
                    <div class="players-container__item_form_fav">{{player.favourite}}</div>
                    <button class="players-container__item_form_button">
                        <svg
                            id="Layer_1"
                            data-name="Layer 1"
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 122.88 107.39"
                            width="12px"
                            height="12px"
                        >
                            <defs>
                                <style>
                                    .cls-1 {
                                        fill: #ed1b24;
                                        fill-rule: evenodd;
                                    }
                                </style>
                            </defs>
                            <title>red-heart</title>
                            <path
                                class="cls-1"
                                d="M60.83,17.18c8-8.35,13.62-15.57,26-17C110-2.46,131.27,21.26,119.57,44.61c-3.33,6.65-10.11,14.56-17.61,22.32-8.23,8.52-17.34,16.87-23.72,23.2l-17.4,17.26L46.46,93.55C29.16,76.89,1,55.92,0,29.94-.63,11.74,13.73.08,30.25.29c14.76.2,21,7.54,30.58,16.89Z"
                            />
                        </svg>
                    </button>
                </form>
            </div>
        </a>
        {% endfor %} {% endif %}
    </div>
</div>
{% endblock %}
